<app-loading *ngIf="isLoading"></app-loading>

<div class="container mt-4" *ngIf="!isLoading">
  <!-- Creative Add Post Section (Floating at the Top) -->
  <div class="position-relative mb-4">
    <div class="add-post-card">
      <h5 class="add-post-title">ğŸ“ What's on your mind?</h5>
      <form (submit)="addPost()" class="add-post-form">
        <img src="https://i.pinimg.com/736x/51/12/4d/51124da38b9ae663e5f4e55e9fb4a3e3.jpg" class="user-avatar" alt="User" />
        <input 
          type="text" 
          class="post-input"
          [(ngModel)]="newPost.content"
          name="content"
          placeholder="Share your thoughts..."
          required
        />
        <button type="submit" class="post-button">Post</button>
      </form>

       <input 
        type="text" 
        class="post-image-input"
        [(ngModel)]="newPost.image"
        name="image"
        placeholder="ğŸ”— Paste image URL (optional)..."
      />
    </div>
  </div>

  <!-- Main Content Area for Posts -->
  <div class="row">
    <div class="col-12 col-md-8 mx-auto post-container">
      <div class="d-flex flex-column gap-4">
        <app-post
          *ngFor="let post of posts"
          [post]="post"
          [postUserImage]="usersImage[post.userId] || './assets/image.png'"
          [postUSerName]="users[post.userId] || 'Unknown User'"
          (usrmakeEdit)="getPosts()"
          class="post-card"
        ></app-post>
      </div>
    </div>
  </div>
</div>
